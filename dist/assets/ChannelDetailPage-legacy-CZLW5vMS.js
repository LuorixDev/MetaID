System.register(["./index-legacy-SYRgyl8g.js"],(function(a,e){"use strict";var s,t,d,i,n,r,l,o,m,p,v,c,g,b,u,x,f,h,y;return{setters:[a=>{s=a.d,t=a.f,d=a.g,i=a.r,n=a.h,r=a.i,l=a.c,o=a.a,m=a.j,p=a.e,v=a.t,c=a.b,g=a.w,b=a.v,u=a.k,x=a.u,f=a.n,h=a.o,y=a._}],execute:function(){var e=document.createElement("style");e.textContent="#channel-detail .app-content[data-v-1768b1ad]{flex:1;display:flex;flex-direction:column;padding:0 16px 16px;overflow-y:hidden}#channel-detail .message-list[data-v-1768b1ad]{flex-grow:1;overflow-y:auto;padding-bottom:12px;display:flex;flex-direction:column;gap:12px}.message-item[data-v-1768b1ad]{display:flex;align-items:flex-start;gap:8px}.message-item.sent[data-v-1768b1ad]{justify-content:flex-end}.message-item .message-avatar[data-v-1768b1ad]{width:36px;height:36px;border-radius:10px;background:linear-gradient(45deg,var(--primary),var(--secondary));display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:16px;flex-shrink:0}.message-item.sent .message-avatar[data-v-1768b1ad]{order:2}.message-bubble[data-v-1768b1ad]{max-width:75%;padding:10px 14px;border-radius:18px;position:relative;word-break:break-word}.message-item.received .message-bubble[data-v-1768b1ad]{background:#fff;color:var(--dark);border-bottom-left-radius:4px;box-shadow:0 1px 2px rgba(0,0,0,.08)}.message-item.sent .message-bubble[data-v-1768b1ad]{background:var(--primary);color:#fff;border-bottom-right-radius:4px;box-shadow:0 1px 2px rgba(74,108,247,.3)}.message-sender[data-v-1768b1ad]{font-size:12px;font-weight:600;margin-bottom:4px;color:var(--primary)}.message-item.sent .message-sender[data-v-1768b1ad]{display:none}.message-text[data-v-1768b1ad]{font-size:15px;margin-bottom:6px}.message-meta[data-v-1768b1ad]{display:flex;align-items:center;gap:12px;font-size:11px;color:rgba(255,255,255,.8);margin-top:4px}.message-item.received .message-meta[data-v-1768b1ad]{color:var(--gray)}.message-meta i[data-v-1768b1ad]{margin-right:2px}.message-comments[data-v-1768b1ad]{cursor:pointer;transition:var(--transition)}.message-item.received .message-comments[data-v-1768b1ad]:hover{color:var(--primary)}.message-item.sent .message-comments[data-v-1768b1ad]:hover{color:#fff}.message-image[data-v-1768b1ad]{width:100%;max-width:250px;border-radius:8px;margin-bottom:8px;object-fit:cover}.message-input-area[data-v-1768b1ad]{padding:12px 16px;border-top:1px solid rgba(0,0,0,.05);display:flex;align-items:center;gap:8px;background:#fff;flex-shrink:0}.message-input-area input[type=text][data-v-1768b1ad]{flex:1;padding:10px 16px;border:none;background:var(--light);border-radius:20px;font-size:16px;outline:none}.message-input-area .btn-primary[data-v-1768b1ad]{padding:10px 16px;border-radius:20px;font-size:16px;height:40px;display:flex;align-items:center;justify-content:center}#channel-detail .app-header[data-v-1768b1ad]{padding:12px 16px;margin-bottom:0}#channel-detail .app-header .header-top[data-v-1768b1ad]{margin-bottom:0}#channel-detail .app-header .app-title[data-v-1768b1ad]{font-size:20px;font-weight:600;color:var(--dark)}#channel-detail .app-header .btn-more[data-v-1768b1ad]{font-size:16px;display:flex;align-items:center;gap:4px}#channel-detail .app-header .btn-more i[data-v-1768b1ad]{font-size:14px}@media (max-width: 480px){#channel-detail .app-content[data-v-1768b1ad]{padding:0 12px 12px}.message-input-area[data-v-1768b1ad],.message-input-area input[type=text][data-v-1768b1ad]{padding:8px 12px}.message-input-area .btn-primary[data-v-1768b1ad]{padding:8px 12px;height:36px}.message-item .message-avatar[data-v-1768b1ad]{width:32px;height:32px;font-size:14px}.message-bubble[data-v-1768b1ad]{padding:8px 12px;border-radius:16px}.message-text[data-v-1768b1ad]{font-size:14px}.message-meta[data-v-1768b1ad]{font-size:10px;gap:8px}.message-image[data-v-1768b1ad]{max-width:200px}}\n",document.head.appendChild(e);const k={class:"page",id:"channel-detail"},w={class:"app-header",style:{"padding-bottom":"16px"}},T={class:"header-top"},z={class:"app-title",style:{"font-size":"20px"}},E={id:"channelDetailTitle"},L={class:"app-content",style:{"padding-top":"0"}},C={key:0,class:"message-input-area"};a("default",y(s({__name:"ChannelDetailPage",setup(a){const e=d(),s=x(),y=t((()=>e.query.title||"频道/聊天名称")),j=t((()=>e.query.type||"chat")),_=t((()=>"personal"===j.value||"chat"===j.value||"group"===j.value)),q=i(""),S=i(null),A=()=>{s.push({name:"Channel"})},D=()=>{const a=q.value.trim();if(a){const e=`\n      <div class="message-item sent">\n        <div class="message-bubble">\n          <div class="message-text">${a}</div>\n          <div class="message-meta">\n            <span class="message-time">刚刚</span>\n            <span class="message-views"><i class="fas fa-eye"></i> 0</span>\n            <span class="message-comments"><i class="fas fa-comment"></i> 0</span>\n          </div>\n        </div>\n        <div class="message-avatar">张</div>\n      </div>\n    `;S.value&&(S.value.innerHTML+=e,q.value="",f((()=>{S.value&&(S.value.scrollTop=S.value.scrollHeight)})),$())}};let H=null;const $=()=>{document.querySelectorAll(".message-item").forEach((a=>{a.removeEventListener("touchstart",I),a.removeEventListener("touchend",K),a.removeEventListener("click",M)})),document.querySelectorAll(".message-item").forEach((a=>{a.addEventListener("touchstart",I,{passive:!0}),a.addEventListener("touchend",K),a.addEventListener("click",M)}))},I=(a,e)=>{null!==H&&clearTimeout(H),H=setTimeout((()=>{P(a.target,e)}),500)},K=()=>{null!==H&&clearTimeout(H)},M=a=>{null!==H&&setTimeout((()=>{H=null}),50)},P=(a,e)=>{alert(`长按消息 (${e})，模拟添加表情回复！`),H=null};return n((()=>{$()})),r((()=>{document.querySelectorAll(".message-item").forEach((a=>{a.removeEventListener("touchstart",I),a.removeEventListener("touchend",K),a.removeEventListener("click",M)})),null!==H&&clearTimeout(H)})),(a,e)=>(h(),l("div",k,[o("div",w,[o("div",T,[o("div",{class:"btn-more",onClick:A},e[4]||(e[4]=[o("i",{class:"fas fa-arrow-left"},null,-1),p(" 返回")])),o("div",z,[o("span",E,v(y.value),1)]),e[5]||(e[5]=o("div",{class:"btn-more"},"详情",-1))])]),o("div",L,[o("div",{class:"message-list",ref_key:"messageListRef",ref:S},[o("div",{class:"message-item received",onTouchstart:e[0]||(e[0]=a=>I(a,"received")),onTouchend:K,onClick:M},e[6]||(e[6]=[c('<div class="message-avatar" data-v-1768b1ad>王</div><div class="message-bubble" data-v-1768b1ad><div class="message-sender" data-v-1768b1ad>王设计师</div><div class="message-text" data-v-1768b1ad> 刚刚更新了我的设计作品集，欢迎大家来交流反馈！ </div><div class="message-meta" data-v-1768b1ad><span class="message-time" data-v-1768b1ad>2小时前</span><span class="message-views" data-v-1768b1ad><i class="fas fa-eye" data-v-1768b1ad></i> 88</span><span class="message-comments" data-v-1768b1ad><i class="fas fa-comment" data-v-1768b1ad></i> 5</span></div></div>',2)]),32),o("div",{class:"message-item sent",onTouchstart:e[1]||(e[1]=a=>I(a,"sent")),onTouchend:K,onClick:M},e[7]||(e[7]=[c('<div class="message-bubble" data-v-1768b1ad><div class="message-text" data-v-1768b1ad> 这是我的第一条频道广播！欢迎大家关注我的动态。 </div><div class="message-meta" data-v-1768b1ad><span class="message-time" data-v-1768b1ad>刚刚</span><span class="message-views" data-v-1768b1ad><i class="fas fa-eye" data-v-1768b1ad></i> 150</span><span class="message-comments" data-v-1768b1ad><i class="fas fa-comment" data-v-1768b1ad></i> 0</span></div></div><div class="message-avatar" data-v-1768b1ad>张</div>',2)]),32),o("div",{class:"message-item received",onTouchstart:e[2]||(e[2]=a=>I(a,"received")),onTouchend:K,onClick:M},e[8]||(e[8]=[c('<div class="message-avatar" data-v-1768b1ad><i class="fas fa-users" data-v-1768b1ad></i></div><div class="message-bubble" data-v-1768b1ad><div class="message-sender" data-v-1768b1ad>产品设计小会</div><div class="message-image" style="width:200px;height:150px;background:var(--light);border-radius:8px;margin-bottom:8px;display:flex;align-items:center;justify-content:center;color:var(--gray);" data-v-1768b1ad><i class="fas fa-image" data-v-1768b1ad></i> 方案初稿 </div><div class="message-meta" data-v-1768b1ad><span class="message-time" data-v-1768b1ad>3小时前</span><span class="message-comments" data-v-1768b1ad><i class="fas fa-comment" data-v-1768b1ad></i> 12</span></div></div>',2)]),32)],512)]),_.value?(h(),l("div",C,[g(o("input",{type:"text",placeholder:"输入消息...","onUpdate:modelValue":e[3]||(e[3]=a=>q.value=a),onKeyup:u(D,["enter"])},null,544),[[b,q.value]]),o("button",{class:"btn-primary",onClick:D},e[9]||(e[9]=[o("i",{class:"fas fa-paper-plane"},null,-1)]))])):m("",!0)]))}}),[["__scopeId","data-v-1768b1ad"]]))}}}));
